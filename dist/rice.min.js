"use strict";function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function mapping(e,r,t){if("string"==typeof r){var r=r.split("."),i=e;if(t){r.reverse();for(var a=_defineProperty({},r[0],t),n=1;n<r.length-1;n++)a=_defineProperty({},r[n],a);i[r[r.length-1]]=a}else for(var o=0;o<r.length;o++)i=i[r[o]];return i}return e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},__RiceData={_:{services:{},servicesLoaded:{},globals:{},cache:{},constructors:[],controllers:{},config:{},build:{}}};module.exports=function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"app",t={};return t._getData=function(){return __RiceData},t.addConstructor=function(e){__RiceData._.constructors.push(e)},t.init=function(){for(var e in __RiceData._.constructors){var r=__RiceData._.constructors[e].call(t);r&&(t=r)}return t},t.addConfig=function(e,r){function t(e,r){return mapping(__RiceData._.config,e)?console.error('There is already an item named "'+e+'" in config. To update this item use setConfig ()'):void mapping(__RiceData._.config,e,r)}if("object"==("undefined"==typeof e?"undefined":_typeof(e)))for(var i in e)t(i,e[i]);else t(e,r)},t.setConfig=function(e,r){function t(e,r){mapping(__RiceData._.config,e,r)}if("object"==("undefined"==typeof e?"undefined":_typeof(e)))for(var i in e)t(i,e[i]);else t(e,r)},t.getConfig=function(e){return mapping(__RiceData._.config,e)},t.add=function(e,r){return t[e]?console.error('"Rice.'+e+'" was not created. A key with this name already exists.'):(t[e]=r,t)},t.build=function(e,r){__RiceData._.build[e]||(__RiceData._.build[e]={});var i=t;i.addData=function(r,t){return __RiceData._.build[e][r]?void console.error("rice-"+e+': "'+r+'" was not created. A key with this name already exists.'):__RiceData._.build[e][r]=t},i.setData=function(r,t){__RiceData._.build[e][r]=t},i.getData=function(r){return __RiceData._.build[e][r]};var a=r.apply(t);return a&&__RiceData._.constructors.push(a),t},t.cache=function(e,r){return r?void(__RiceData._.cache[e]=r):__RiceData._.cache[e]?__RiceData._.cache[e]:void 0},t.global=function(e,r){return r?void(__RiceData._.globals[e]=r):__RiceData._.globals[e]?__RiceData._.globals[e]:void 0},t.import=function(t,i){for(var a=arguments.length,n=Array(a>2?a-2:0),o=2;o<a;o++)n[o-2]=arguments[o];var c=require("./"+r+"/"+t+"/"+i);return c[i].apply(e,n)},t.controller=function(t){for(var i=arguments.length,a=Array(i>1?i-1:0),n=1;n<i;n++)a[n-1]=arguments[n];var o=require("./"+r+"/controllers/"+t+"Controller.js");return o[t].apply(e,a)},t.service=function(t){for(var i=arguments.length,a=Array(i>1?i-1:0),n=1;n<i;n++)a[n-1]=arguments[n];if(__RiceData._.servicesLoaded[t])return __RiceData._.servicesLoaded[t];var o=require("./"+r+"/services/"+t+"Service.js");return __RiceData._.servicesLoaded[t]=o[t].apply(e,a),__RiceData._.servicesLoaded[t]},t.lib=function(t){for(var i=arguments.length,a=Array(i>1?i-1:0),n=1;n<i;n++)a[n-1]=arguments[n];var o=require("./"+r+"/libs/"+t+".js");return o[t].apply(e,a)},t.allServices=function(e){for(var r in __RiceData._.servicesLoaded)__RiceData._.servicesLoaded[r][e]?__RiceData._.servicesLoaded[r][e]():console.error("The "+r+" service does not contain the start method")},t}();